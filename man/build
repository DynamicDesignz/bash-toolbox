alias bdoc='./bin/bdoc'
alias manbuild='ronn -br5 --manual="Bash-Toolbox Manual" --organization="Bash-Toolbox"'
alias markdown='maruku'

= Clean and create all temporary files
  + rm -rf tmp/
  + mkdir -p tmp/man
  + mkdir -p tmp/website/manpages

= Extract manpages session 1 - applications
  for app in bin/*; do
    + bdoc -m ${app} tmp/${app##*/}.1.md
  done

= Extract manpages session 3 - libraries
  for lib in lib/bash-toolbox/*.sh lib/bash-toolbox/cli/*.sh; do
    mkd=${lib%.sh}; mkd=${mkd##*/}
    + bdoc -m ${lib} tmp/${mkd}.3.md
  done

= Extract manpages session 5 and 7 - formats, conventions and miscelaneous
  for doc in man/*.{5,7}.md; do
    mkd=${doc##*/}
    + cp ${doc} tmp/${mkd}
  done

= Build manpages
  for mkd in tmp/*.{1,3,5,7}.md; do
    man=${mkd%.*}
    + manbuild ${mkd}
    + mv ${man} tmp/man/${man##*/}
  done

= Build index for homepage
  + cp README.mkd tmp/index.md
  + markdown tmp/index.md -o tmp/website/index.html

= Move HTML files to homepage
  html=''
  for html in tmp/*.{1,3,5,7}.html; do
    dest=${html##*/}
    + mv ${html} tmp/website/manpages/${dest}
  done

# vim: filetype=sh

